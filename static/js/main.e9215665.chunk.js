(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{150:function(t,e,c){},151:function(t,e,c){},152:function(t,e,c){},153:function(t,e,c){},157:function(t,e,c){"use strict";c.r(e);var a=c(1),s=c.n(a),r=c(42),i=c.n(r),n=c(79),o=(c(91),c(17)),l=c(2),j=function(){return Object(l.jsx)("div",{class:"widget",children:Object(l.jsx)(o.TradingViewEmbed,{widgetType:o.widgetType.TICKER_TAPE,widgetConfig:{colorTheme:"dark",symbols:[{proName:"FOREXCOM:SPXUSD",title:"S&P 500"},{proName:"FOREXCOM:NSXUSD",title:"Nasdaq 100"},{description:"Capital One",proName:"NYSE:COF"},{description:"Leidos",proName:"NYSE:LDOS"},{description:"Northrop Grumman",proName:"NYSE:NOC"},{description:"Google",proName:"NASDAQ:GOOGL"}]}})})},p=c(7),d=c(22),b=c.n(d),u="6472293afaf57688dc0ed3f907a71858",O=function(t){var e=t.stockdata,c=Object(a.useState)(),s=Object(p.a)(c,2),r=s[0],i=s[1];return console.log(e),console.log(e.symbol),e.symbol!==r?(console.log("hello"),i(e.symbol),Object(l.jsx)("div",{})):Object(l.jsx)("div",{class:"widget",children:Object(l.jsx)(o.TradingViewEmbed,{widgetType:o.widgetType.SYMBOL_OVERVIEW,widgetConfig:{symbols:[[r,r]]}})})},h=c(38),f=c(71),x=c(72),v=c(80),m=c(166),g=c(165),k=c(49),y=c(76),S=c(45),E=c(77),M=c(4),w=Object(M.createVerticalLinearGradient)([{stop:0,color:Object(M.hexToRGBA)("#b5d0ff",.2)},{stop:.7,color:Object(M.hexToRGBA)("#6fa4fc",.4)},{stop:1,color:Object(M.hexToRGBA)("#4286f4",.8)}]),C=function(t){Object(x.a)(c,t);var e=Object(v.a)(c);function c(){return Object(h.a)(this,c),e.apply(this,arguments)}return Object(f.a)(c,[{key:"render",value:function(){console.log("in chart"),console.log(this.props);var t=this.props,e=t.data,c=t.type,a=t.width,s=t.ratio;return Object(l.jsx)(k.b,{ratio:s,width:a,height:400,margin:{left:50,right:50,top:10,bottom:30},seriesName:"MSFT",data:e,type:c,xAccessor:function(t){return t.date},xScale:Object(m.a)(),xExtents:[new Date(2011,0,1),new Date(2013,0,2)],children:Object(l.jsxs)(k.a,{id:0,yExtents:function(t){return t.close},children:[Object(l.jsx)("defs",{children:Object(l.jsxs)("linearGradient",{id:"MyGradient",x1:"0",y1:"100%",x2:"0",y2:"0%",children:[Object(l.jsx)("stop",{offset:"0%",stopColor:"#b5d0ff",stopOpacity:.2}),Object(l.jsx)("stop",{offset:"70%",stopColor:"#6fa4fc",stopOpacity:.4}),Object(l.jsx)("stop",{offset:"100%",stopColor:"#4286f4",stopOpacity:.8})]})}),Object(l.jsx)(S.XAxis,{axisAt:"bottom",orient:"bottom",ticks:6}),Object(l.jsx)(S.YAxis,{axisAt:"left",orient:"left"}),Object(l.jsx)(y.AreaSeries,{yAccessor:function(t){return t.close},fill:"url(#MyGradient)",strokeWidth:2,interpolation:g.a,canvasGradient:w})]})})}}]),c}(s.a.Component);C.defaultProps={type:"svg"};C=Object(E.fitWidth)(C),c(150);var D=function(t){var e=t.ticker,c=(t.stockprice,t.setStockprice),s=Object(a.useState)({name:"nostock"}),r=Object(p.a)(s,2),i=r[0],n=r[1],o=Object(a.useState)([]),j=Object(p.a)(o,2);j[0],j[1];return Object(a.useEffect)((function(){console.log("effect "+e+" "+u),b.a.get("http://api.marketstack.com/v1/tickers/"+e.toUpperCase()+"?access_key="+u).then((function(t){console.log(t.data),n(t.data)})).catch((function(t){console.log(t)}))}),[e]),Object(a.useEffect)((function(){console.log("effect2 "+e),b.a.get("http://api.marketstack.com/v1/tickers/"+e.toUpperCase()+"/eod/latest?access_key="+u).then((function(t){console.log(t.data.close),c(t.data.close)})).catch((function(t){console.log(t)}))}),[e]),"nostock"===i.name?Object(l.jsx)("div",{}):Object(l.jsxs)("div",{class:"chart",children:[Object(l.jsxs)("h1",{children:[i.name," (",i.stock_exchange.acronym,":",i.symbol,")"]}),Object(l.jsx)(O,{stockdata:i})]})},A=(c(68),function(t){t.rank;var e=t.option,c=t.estimatedreturn,a=e.description.split(" ");a[4].includes(".")||(a[4]+=".00");var s=a[4].indexOf(".");return a[4].substring(s).length<3&&(a[4]+="0"),Object(l.jsxs)("div",{class:"row",children:[Object(l.jsx)("p",{children:a[0]}),Object(l.jsx)("p",{children:a[1]+" "+a[2]+" "+a[3]}),Object(l.jsx)("p",{children:a[4]}),Object(l.jsxs)("p",{children:[c,"%"]}),Object(l.jsx)("p",{children:e.closePrice}),Object(l.jsx)("p",{children:a[5]})]})}),N=function(t){var e=0;if(t>=8)e=1;else if(t<=-8)e=0;else{for(var c=0;c<100;c++)e+=Math.pow(t,2*c+1)/G(2*c+1);e*=Math.pow(Math.E,-.5*Math.pow(t,2)),e/=Math.sqrt(2*Math.PI),e+=.5}return e};function G(t){for(var e=1,c=t;c>1;c-=2)e*=c;return e}var T=function(t,e,c,a,s,r){var i=(s*c+Math.pow(a,2)*c/2-Math.log(e/t))/(a*Math.sqrt(c));return"call"===r.toLowerCase()?t*N(i)-e*Math.pow(Math.E,-1*s*c)*N(i-a*Math.sqrt(c)):e*Math.pow(Math.E,-1*s*c)*N(a*Math.sqrt(c)-i)-t*N(-i)};var P=T,F=(c(151),function(t,e,c){var a=Date.UTC(c.getFullYear(),c.getMonth(),c.getDate()),s=(t.expirationDate-a)/31536e6,r=(t.bid+t.ask)/2;return 100*(P(e,t.strikePrice,s,t.theoreticalVolatility/100,.027,t.putCall)/r-1)}),R=function(t){var e=t.ticker,c=t.pricestring,s=t.date,r=(t.currentprice,Object(a.useState)({symbol:"nostock",status:"FAILED"})),i=Object(p.a)(r,2),n=i[0],o=i[1];if(Object(a.useEffect)((function(){console.log("effect"),b.a.get("https://api.tdameritrade.com/v1/marketdata/chains?apikey=ZS8CKW5TX4Y4FAFZYUV7SW7ADSAGGVUR&symbol="+e.toUpperCase()+"&fromDate="+s).then((function(t){console.log(t.data),o(t.data)})).catch((function(t){console.log(t)}))}),[e,s]),""===e||""===c||""===s)return Object(l.jsx)("div",{});var j=parseFloat(c);if(isNaN(j))return Object(l.jsx)("div",{children:Object(l.jsx)("p",{children:"Non-numeric value for price"})});if("nostock"===n.symbol)return Object(l.jsx)("div",{});if("FAILED"===n.status)return Object(l.jsx)("div",{children:"Failed to retreive options data"});var d=[];for(var u in n.callExpDateMap)if(n.callExpDateMap.hasOwnProperty(u))for(var O in n.callExpDateMap[u]){for(var h=0;h<n.callExpDateMap[u][O].length;h++){var f=n.callExpDateMap[u][O][h];0!==f.ask&&0!==f.bid&&0!==f.closePrice&&d.push({option:f,estimatedreturn:F(f,j,new Date(s))})}for(var x=0;x<n.putExpDateMap[u][O].length;x++){var v=n.putExpDateMap[u][O][x];0!==v.ask&&0!==v.bid&&0!==v.closePrice&&d.push({option:v,estimatedreturn:F(v,j,new Date(s))})}}d.sort((function(t,e){return t.estimatedreturn-e.estimatedreturn})).reverse();var m=d.slice(0,10);return Object(l.jsxs)("div",{class:"results",children:[Object(l.jsxs)("div",{class:"row",children:[Object(l.jsx)("p",{children:"Stock"}),Object(l.jsx)("p",{children:"Expiration Date"}),Object(l.jsx)("p",{children:"Strike Price"}),Object(l.jsx)("p",{children:"Estimated Return"}),Object(l.jsx)("p",{children:"Premium"}),Object(l.jsx)("p",{children:"Call/Put"})]}),m.map((function(t,e){return Object(l.jsx)(A,{rank:e+1,option:t.option,estimatedreturn:t.estimatedreturn.toFixed(2)})}))]})},L=(c(152),function(){var t=Object(a.useState)(""),e=Object(p.a)(t,2),c=e[0],s=e[1],r=Object(a.useState)(""),i=Object(p.a)(r,2),n=i[0],o=i[1],j=Object(a.useState)(""),d=Object(p.a)(j,2),b=d[0],u=d[1],O=Object(a.useState)(""),h=Object(p.a)(O,2),f=h[0],x=h[1],v=Object(a.useState)(""),m=Object(p.a)(v,2),g=m[0],k=m[1],y=Object(a.useState)(""),S=Object(p.a)(y,2),E=S[0],M=S[1],w=Object(a.useState)(-1),C=Object(p.a)(w,2),A=C[0],N=C[1];return Object(l.jsxs)("div",{class:"body",children:[Object(l.jsxs)("div",{class:"toppart",children:[Object(l.jsx)("h1",{class:"title",children:"Opt-Win"}),Object(l.jsx)("h2",{class:"subtitle",children:"Find the most optimal options here!"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{class:"searchbox",type:"text",value:c,placeholder:"Search any ticker",onChange:function(t){s(t.target.value)}}),Object(l.jsx)("button",{class:"submitsearch",onClick:function(){o(c)},children:"Show"})]}),Object(l.jsx)(D,{ticker:n,stockprice:A,setStockprice:N}),Object(l.jsxs)("div",{class:"form",children:[Object(l.jsxs)("div",{class:"priceinput",children:[Object(l.jsx)("label",{children:"Estimated Stock Price:"}),Object(l.jsx)("input",{class:"pricebox",type:"text",value:b,placeholder:"100.00",onChange:function(t){u(t.target.value)}})]}),Object(l.jsxs)("div",{class:"dateinput",children:[Object(l.jsx)("label",{children:"Date:"}),Object(l.jsx)("input",{class:"datebox",type:"date",value:f,onChange:function(t){x(t.target.value)}})]}),Object(l.jsx)("button",{class:"submitparams",onClick:function(){k(b),M(f)},children:"Go"})]}),Object(l.jsx)(R,{ticker:n,pricestring:g,date:E,currentprice:A})]})}),U=(c(153),function(){return Object(l.jsx)("div",{id:"app",children:Object(l.jsxs)(n.a,{children:[Object(l.jsx)(j,{}),Object(l.jsx)(L,{})]})})});i.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(U,{})}),document.getElementById("root"))},68:function(t,e,c){},91:function(t,e,c){}},[[157,1,2]]]);
//# sourceMappingURL=main.e9215665.chunk.js.map